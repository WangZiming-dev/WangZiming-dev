<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MoneyTrack - 个人记账助手</title>
  <!-- 引入外部资源 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  
  <!-- 配置Tailwind -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFC9',
            success: '#52C41A',
            danger: '#F5222D',
            warning: '#FAAD14',
            info: '#40A9FF',
            light: '#F5F7FA',
            dark: '#1D2129',
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <!-- 自定义工具类 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-shadow {
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      }
      .nav-shadow {
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      }
      .transition-all-300 {
        transition: all 300ms ease-in-out;
      }
    }
  </style>
  
  <style>
    /* 基础动画定义 */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .animate-fadeIn {
      animation: fadeIn 0.3s ease-out forwards;
    }
    
    /* 平滑滚动 */
    html {
      scroll-behavior: smooth;
    }
    
    /* 数字变化动画 */
    @keyframes countUp {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .count-animation {
      animation: countUp 0.5s ease-out forwards;
    }
  </style>
</head>

<body class="font-inter bg-gray-50 text-dark min-h-screen flex flex-col">
  <!-- 顶部导航栏 -->
  <header class="bg-white nav-shadow sticky top-0 z-50 transition-all duration-300">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <!-- 品牌标识 -->
        <div class="flex items-center">
          <a href="#" class="flex items-center space-x-2">
            <div class="w-8 h-8 rounded-lg bg-primary flex items-center justify-center">
              <i class="fa fa-money text-white"></i>
            </div>
            <span class="text-xl font-bold text-primary">MoneyTrack</span>
          </a>
        </div>
        
        <!-- 导航链接 - 桌面版 -->
        <nav class="hidden md:flex space-x-8">
          <a href="#dashboard" class="text-gray-700 hover:text-primary font-medium transition-colors">仪表盘</a>
          <a href="#transactions" class="text-gray-700 hover:text-primary font-medium transition-colors">交易记录</a>
          <a href="#statistics" class="text-gray-700 hover:text-primary font-medium transition-colors">统计分析</a>
          <a href="#settings" class="text-gray-700 hover:text-primary font-medium transition-colors">设置</a>
        </nav>
        
        <!-- 用户菜单 -->
        <div class="flex items-center space-x-4">
          <button class="p-2 rounded-full hover:bg-gray-100 transition-colors relative">
            <i class="fa fa-bell-o text-gray-600"></i>
            <span class="absolute top-1 right-1 w-2 h-2 bg-danger rounded-full"></span>
          </button>
          <div class="relative group">
            <button class="flex items-center space-x-2 focus:outline-none">
              <img src="https://picsum.photos/id/64/200/200" alt="用户头像" class="w-8 h-8 rounded-full object-cover border-2 border-primary">
              <span class="hidden md:inline text-sm font-medium">张小明</span>
              <i class="fa fa-angle-down text-gray-500 text-xs"></i>
            </button>
            <!-- 用户下拉菜单 -->
            <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform group-hover:translate-y-0 translate-y-2">
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <i class="fa fa-user-o mr-2"></i>个人资料
              </a>
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                <i class="fa fa-cog mr-2"></i>账户设置
              </a>
              <div class="border-t border-gray-100 my-1"></div>
              <a href="#" class="block px-4 py-2 text-sm text-danger hover:bg-gray-100">
                <i class="fa fa-sign-out mr-2"></i>退出登录
              </a>
            </div>
          </div>
          
          <!-- 移动端菜单按钮 -->
          <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-gray-600 hover:bg-gray-100">
            <i class="fa fa-bars"></i>
          </button>
        </div>
      </div>
    </div>
    
    <!-- 移动端导航菜单 -->
    <div id="mobile-menu" class="md:hidden hidden bg-white border-t animate-fadeIn">
      <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
        <a href="#dashboard" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50">仪表盘</a>
        <a href="#transactions" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50">交易记录</a>
        <a href="#statistics" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50">统计分析</a>
        <a href="#settings" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary hover:bg-gray-50">设置</a>
      </div>
    </div>
  </header>

  <!-- 主内容区 -->
  <main class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-6">
    <!-- 欢迎消息和日期 -->
    <div class="mb-8 animate-fadeIn">
      <h1 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-gray-800">你好，张小明</h1>
      <p class="text-gray-500 mt-1" id="current-date">2023年6月15日 星期四</p>
    </div>
    
    <!-- 仪表盘部分 -->
    <section id="dashboard" class="mb-10">
      <!-- 财务概览卡片 -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <!-- 总收入 -->
        <div class="bg-white rounded-xl p-6 card-shadow hover:shadow-lg transition-all-300 transform hover:-translate-y-1 animate-fadeIn" style="animation-delay: 0.1s">
          <div class="flex justify-between items-start">
            <div>
              <p class="text-gray-500 text-sm font-medium">总收入</p>
              <h3 class="text-2xl font-bold mt-2 text-success count-animation" data-target="15800">¥15,800</h3>
              <p class="text-success text-sm mt-2 flex items-center">
                <i class="fa fa-arrow-up mr-1"></i> 12.5% <span class="text-gray-500 ml-1">较上月</span>
              </p>
            </div>
            <div class="w-12 h-12 rounded-full bg-success/10 flex items-center justify-center">
              <i class="fa fa-arrow-down text-success text-xl"></i>
            </div>
          </div>
        </div>
        
        <!-- 总支出 -->
        <div class="bg-white rounded-xl p-6 card-shadow hover:shadow-lg transition-all-300 transform hover:-translate-y-1 animate-fadeIn" style="animation-delay: 0.2s">
          <div class="flex justify-between items-start">
            <div>
              <p class="text-gray-500 text-sm font-medium">总支出</p>
              <h3 class="text-2xl font-bold mt-2 text-danger count-animation" data-target="8350">¥8,350</h3>
              <p class="text-danger text-sm mt-2 flex items-center">
                <i class="fa fa-arrow-up mr-1"></i> 5.2% <span class="text-gray-500 ml-1">较上月</span>
              </p>
            </div>
            <div class="w-12 h-12 rounded-full bg-danger/10 flex items-center justify-center">
              <i class="fa fa-arrow-up text-danger text-xl"></i>
            </div>
          </div>
        </div>
        
        <!-- 结余 -->
        <div class="bg-white rounded-xl p-6 card-shadow hover:shadow-lg transition-all-300 transform hover:-translate-y-1 animate-fadeIn" style="animation-delay: 0.3s">
          <div class="flex justify-between items-start">
            <div>
              <p class="text-gray-500 text-sm font-medium">本月结余</p>
              <h3 class="text-2xl font-bold mt-2 text-primary count-animation" data-target="7450">¥7,450</h3>
              <p class="text-success text-sm mt-2 flex items-center">
                <i class="fa fa-arrow-up mr-1"></i> 8.3% <span class="text-gray-500 ml-1">较上月</span>
              </p>
            </div>
            <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center">
              <i class="fa fa-balance-scale text-primary text-xl"></i>
            </div>
          </div>
        </div>
        
        <!-- 预算使用 -->
        <div class="bg-white rounded-xl p-6 card-shadow hover:shadow-lg transition-all-300 transform hover:-translate-y-1 animate-fadeIn" style="animation-delay: 0.4s">
          <div class="flex justify-between items-start">
            <div>
              <p class="text-gray-500 text-sm font-medium">预算使用</p>
              <h3 class="text-2xl font-bold mt-2 text-warning count-animation" data-target="68">68%</h3>
              <p class="text-gray-500 text-sm mt-2 flex items-center">
                <span>剩余 ¥3,200</span>
              </p>
            </div>
            <div class="w-12 h-12 rounded-full bg-warning/10 flex items-center justify-center">
              <i class="fa fa-pie-chart text-warning text-xl"></i>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 图表区域 -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
        <!-- 收支趋势图 -->
        <div class="bg-white rounded-xl p-6 card-shadow lg:col-span-2 animate-fadeIn" style="animation-delay: 0.5s">
          <div class="flex justify-between items-center mb-6">
            <h3 class="font-bold text-lg">收支趋势</h3>
            <div class="flex space-x-2">
              <button class="px-3 py-1 text-sm bg-primary text-white rounded-md">月度</button>
              <button class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors">季度</button>
              <button class="px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors">年度</button>
            </div>
          </div>
          <div class="h-80">
            <canvas id="trend-chart"></canvas>
          </div>
        </div>
        
        <!-- 支出分类占比 -->
        <div class="bg-white rounded-xl p-6 card-shadow animate-fadeIn" style="animation-delay: 0.6s">
          <div class="flex justify-between items-center mb-6">
            <h3 class="font-bold text-lg">支出分类</h3>
            <button class="text-primary text-sm hover:underline">查看全部</button>
          </div>
          <div class="h-64 mb-4">
            <canvas id="category-chart"></canvas>
          </div>
          <div class="space-y-3">
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-3 h-3 rounded-full bg-primary mr-2"></span>
                <span class="text-sm text-gray-600">餐饮美食</span>
              </div>
              <span class="text-sm font-medium">35%</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-3 h-3 rounded-full bg-secondary mr-2"></span>
                <span class="text-sm text-gray-600">交通出行</span>
              </div>
              <span class="text-sm font-medium">20%</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-3 h-3 rounded-full bg-warning mr-2"></span>
                <span class="text-sm text-gray-600">购物消费</span>
              </div>
              <span class="text-sm font-medium">18%</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-3 h-3 rounded-full bg-info mr-2"></span>
                <span class="text-sm text-gray-600">住房缴费</span>
              </div>
              <span class="text-sm font-medium">15%</span>
            </div>
            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <span class="w-3 h-3 rounded-full bg-danger mr-2"></span>
                <span class="text-sm text-gray-600">其他支出</span>
              </div>
              <span class="text-sm font-medium">12%</span>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- 交易记录部分 -->
    <section id="transactions" class="mb-10">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 animate-fadeIn">
        <h2 class="text-2xl font-bold">交易记录</h2>
        <div class="flex flex-col sm:flex-row gap-3 mt-4 md:mt-0">
          <div class="relative">
            <input type="text" placeholder="搜索交易..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all">
            <i class="fa fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          </div>
          <button id="add-transaction-btn" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg flex items-center justify-center transition-colors">
            <i class="fa fa-plus mr-2"></i> 添加交易
          </button>
        </div>
      </div>
      
      <!-- 交易记录表格 -->
      <div class="bg-white rounded-xl overflow-hidden card-shadow animate-fadeIn">
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">日期</th>
                <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">描述</th>
                <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">分类</th>
                <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">金额</th>
                <th scope="col" class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">支付方式</th>
                <th scope="col" class="px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">操作</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <!-- 交易记录行 -->
              <tr class="hover:bg-gray-50 transition-colors">
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-15</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-danger/10 flex items-center justify-center mr-3">
                      <i class="fa fa-cutlery text-danger"></i>
                    </div>
                    <div>
                      <div class="text-sm font-medium text-gray-900">餐厅晚餐</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">餐饮美食</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-danger">-¥268</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">微信支付</td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                  <button class="text-primary hover:text-primary/80 mr-3">编辑</button>
                  <button class="text-danger hover:text-danger/80">删除</button>
                </td>
              </tr>
              
              <tr class="hover:bg-gray-50 transition-colors">
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-14</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-success/10 flex items-center justify-center mr-3">
                      <i class="fa fa-briefcase text-success"></i>
                    </div>
                    <div>
                      <div class="text-sm font-medium text-gray-900">工资收入</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">薪资</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-success">+¥12,500</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">银行转账</td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                  <button class="text-primary hover:text-primary/80 mr-3">编辑</button>
                  <button class="text-danger hover:text-danger/80">删除</button>
                </td>
              </tr>
              
              <tr class="hover:bg-gray-50 transition-colors">
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-12</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-danger/10 flex items-center justify-center mr-3">
                      <i class="fa fa-home text-danger"></i>
                    </div>
                    <div>
                      <div class="text-sm font-medium text-gray-900">房租支付</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800">住房缴费</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-danger">-¥3,500</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">支付宝</td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                  <button class="text-primary hover:text-primary/80 mr-3">编辑</button>
                  <button class="text-danger hover:text-danger/80">删除</button>
                </td>
              </tr>
              
              <tr class="hover:bg-gray-50 transition-colors">
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-10</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-danger/10 flex items-center justify-center mr-3">
                      <i class="fa fa-shopping-bag text-danger"></i>
                    </div>
                    <div>
                      <div class="text-sm font-medium text-gray-900">超市购物</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">购物消费</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-danger">-¥456</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">银行卡</td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                  <button class="text-primary hover:text-primary/80 mr-3">编辑</button>
                  <button class="text-danger hover:text-danger/80">删除</button>
                </td>
              </tr>
              
              <tr class="hover:bg-gray-50 transition-colors">
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2023-06-08</td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-danger/10 flex items-center justify-center mr-3">
                      <i class="fa fa-car text-danger"></i>
                    </div>
                    <div>
                      <div class="text-sm font-medium text-gray-900">加油费用</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                  <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-100 text-cyan-800">交通出行</span>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-danger">-¥320</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">支付宝</td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                  <button class="text-primary hover:text-primary/80 mr-3">编辑</button>
                  <button class="text-danger hover:text-danger/80">删除</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <!-- 分页 -->
        <div class="px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between">
          <div class="flex-1 flex justify-between sm:hidden">
            <a href="#" class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">上一页</a>
            <a href="#" class="ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">下一页</a>
          </div>
          <div class="hidden sm:flex-1 sm:flex sm:items-center sm:justify-between">
            <div>
              <p class="text-sm text-gray-700">
                显示第 <span class="font-medium">1</span> 至 <span class="font-medium">5</span> 条，共 <span class="font-medium">24</span> 条记录
              </p>
            </div>
            <div>
              <nav class="relative z-0 inline-flex rounded-md shadow-sm -space-x-px" aria-label="Pagination">
                <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                  <span class="sr-only">上一页</span>
                  <i class="fa fa-chevron-left text-xs"></i>
                </a>
                <a href="#" aria-current="page" class="z-10 bg-primary text-white relative inline-flex items-center px-4 py-2 border border-primary text-sm font-medium">1</a>
                <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">2</a>
                <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">3</a>
                <span class="relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700">...</span>
                <a href="#" class="bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium">5</a>
                <a href="#" class="relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50">
                  <span class="sr-only">下一页</span>
                  <i class="fa fa-chevron-right text-xs"></i>
                </a>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- 统计分析部分 -->
    <section id="statistics" class="mb-10">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6 animate-fadeIn">
        <h2 class="text-2xl font-bold">统计分析</h2>
        <div class="flex space-x-2 mt-4 md:mt-0">
          <select class="border border-gray-300 rounded-lg px-3 py-2 bg-white focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all">
            <option>2023年6月</option>
            <option>2023年5月</option>
            <option>2023年4月</option>
          </select>
          <button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-lg transition-colors">
            <i class="fa fa-download mr-1"></i> 导出
          </button>
        </div>
      </div>
      
      <!-- 统计图表 -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- 分类收支对比 -->
        <div class="bg-white rounded-xl p-6 card-shadow animate-fadeIn">
          <h3 class="font-bold text-lg mb-6">分类收支对比</h3>
          <div class="h-80">
            <canvas id="income-expense-chart"></canvas>
          </div>
        </div>
        
        <!-- 支付方式分析 -->
        <div class="bg-white rounded-xl p-6 card-shadow animate-fadeIn">
          <h3 class="font-bold text-lg mb-6">支付方式分析</h3>
          <div class="h-80">
            <canvas id="payment-method-chart"></canvas>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- 添加交易模态框 -->
  <div id="transaction-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
    <div class="bg-white rounded-xl w-full max-w-md mx-4 shadow-2xl transform transition-all animate-fadeIn">
      <div class="p-6 border-b border-gray-200">
        <div class="flex justify-between items-center">
          <h3 class="text-lg font-bold">添加新交易</h3>
          <button id="close-modal" class="text-gray-500 hover:text-gray-700">
            <i class="fa fa-times"></i>
          </button>
        </div>
      </div>
      <div class="p-6">
        <form id="transaction-form">
          <!-- 交易类型 -->
          <div class="mb-4">
            <label class="block text-sm font-medium text-gray-700 mb-1">交易类型</label>
            <div class="flex space-x-4">
              <label class="inline-flex items-center">
                <input type="radio" name="transaction-type" value="expense" class="form-radio text-danger focus:ring-danger" checked>
                <span class="ml-2 text-sm text-gray-700">支出</span>
              </label>
              <label class="inline-flex items-center">
                <input type="radio" name="transaction-type" value="income" class="form-radio text-success focus:ring-success">
                <span class="ml-2 text-sm text-gray-700">收入</span>
              </label>
            </div>
          </div>
          
          <!-- 金额 -->
          <div class="mb-4">
            <label for="amount" class="block text-sm font-medium text-gray-700 mb-1">金额 (¥)</label>
            <input type="number" id="amount" name="amount" step="0.01" min="0" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all" placeholder="0.00" required>
          </div>
          
          <!-- 分类 -->
          <div class="mb-4">
            <label for="category" class="block text-sm font-medium text-gray-700 mb-1">分类</label>
            <select id="category" name="category" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all" required>
              <option value="">请选择分类</option>
              <optgroup label="支出分类">
                <option value="food">餐饮美食</option>
                <option value="transport">交通出行</option>
                <option value="shopping">购物消费</option>
                <option value="housing">住房缴费</option>
                <option value="entertainment">休闲娱乐</option>
                <option value="healthcare">医疗健康</option>
                <option value="education">教育培训</option>
                <option value="other">其他支出</option>
              </optgroup>
              <optgroup label="收入分类">
                <option value="salary">薪资</option>
                <option value="bonus">奖金</option>
                <option value="investment">投资收益</option>
                <option value="part-time">兼职收入</option>
                <option value="other-income">其他收入</option>
              </optgroup>
            </select>
          </div>
          
          <!-- 描述 -->
          <div class="mb-4">
            <label for="description" class="block text-sm font-medium text-gray-700 mb-1">描述</label>
            <input type="text" id="description" name="description" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all" placeholder="例如：超市购物">
          </div>
          
          <!-- 日期 -->
          <div class="mb-4">
            <label for="date" class="block text-sm font-medium text-gray-700 mb-1">日期</label>
            <input type="date" id="date" name="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all" required>
          </div>
          
          <!-- 支付方式 -->
          <div class="mb-6">
            <label for="payment-method" class="block text-sm font-medium text-gray-700 mb-1">支付方式</label>
            <select id="payment-method" name="payment-method" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary outline-none transition-all" required>
              <option value="">请选择支付方式</option>
              <option value="alipay">支付宝</option>
              <option value="wechat">微信支付</option>
              <option value="card">银行卡</option>
              <option value="cash">现金</option>
              <option value="other">其他方式</option>
            </select>
          </div>
          
          <!-- 提交按钮 -->
          <div class="flex justify-end space-x-3">
            <button type="button" id="cancel-transaction" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">取消</button>
            <button type="submit" class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">保存</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- 页脚 -->
  <footer class="bg-white border-t border-gray-200 py-6">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="flex items-center mb-4 md:mb-0">
          <div class="w-8 h-8 rounded-lg bg-primary flex items-center justify-center mr-2">
            <i class="fa fa-money text-white"></i>
          </div>
          <span class="text-lg font-bold text-primary">MoneyTrack</span>
        </div>
        <p class="text-gray-500 text-sm">© 2023 MoneyTrack. 保留所有权利。</p>
        <div class="flex space-x-4 mt-4 md:mt-0">
          <a href="#" class="text-gray-400 hover:text-primary transition-colors">
            <i class="fa fa-github text-xl"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-primary transition-colors">
            <i class="fa fa-twitter text-xl"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-primary transition-colors">
            <i class="fa fa-envelope-o text-xl"></i>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // 设置当前日期
    document.addEventListener('DOMContentLoaded', function() {
      const now = new Date();
      const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
      document.getElementById('current-date').textContent = now.toLocaleDateString('zh-CN', options);
      
      // 设置默认日期为今天
      const dateInput = document.getElementById('date');
      if (dateInput) {
        const today = now.toISOString().split('T')[0];
        dateInput.value = today;
      }
      
      // 初始化图表
      initCharts();
      
      // 移动端菜单切换
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');
      
      mobileMenuButton.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
      });
      
      // 模态框控制
      const addTransactionBtn = document.getElementById('add-transaction-btn');
      const transactionModal = document.getElementById('transaction-modal');
      const closeModal = document.getElementById('close-modal');
      const cancelTransaction = document.getElementById('cancel-transaction');
      const transactionForm = document.getElementById('transaction-form');
      
      addTransactionBtn.addEventListener('click', function() {
        transactionModal.classList.remove('hidden');
        transactionModal.classList.add('flex');
        document.body.style.overflow = 'hidden'; // 防止背景滚动
      });
      
      function hideModal() {
        transactionModal.classList.add('hidden');
        transactionModal.classList.remove('flex');
        document.body.style.overflow = ''; // 恢复背景滚动
      }
      
      closeModal.addEventListener('click', hideModal);
      cancelTransaction.addEventListener('click', hideModal);
      
      // 点击模态框外部关闭
      transactionModal.addEventListener('click', function(e) {
        if (e.target === transactionModal) {
          hideModal();
        }
      });
      
      // 表单提交处理
      transactionForm.addEventListener('submit', function(e) {
        e.preventDefault();
        // 这里可以添加表单处理逻辑
        alert('交易记录已保存！');
        hideModal();
        // 重置表单
        transactionForm.reset();
        dateInput.value = today;
      });
      
      // 导航栏滚动效果
      window.addEventListener('scroll', function() {
        const header = document.querySelector('header');
        if (window.scrollY > 10) {
          header.classList.add('shadow-md');
          header.classList.remove('nav-shadow');
        } else {
          header.classList.remove('shadow-md');
          header.classList.add('nav-shadow');
        }
      });
    });
    
    // 初始化所有图表
    function initCharts() {
      // 收支趋势图
      const trendCtx = document.getElementById('trend-chart').getContext('2d');
      new Chart(trendCtx, {
        type: 'line',
        data: {
          labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
          datasets: [
            {
              label: '收入',
              data: [12500, 13200, 11800, 14500, 13900, 15800],
              borderColor: '#52C41A',
              backgroundColor: 'rgba(82, 196, 26, 0.1)',
              tension: 0.4,
              fill: true
            },
            {
              label: '支出',
              data: [7800, 8200, 7500, 8900, 7600, 8350],
              borderColor: '#F5222D',
              backgroundColor: 'rgba(245, 34, 45, 0.1)',
              tension: 0.4,
              fill: true
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: function(value) {
                  return '¥' + value.toLocaleString();
                }
              }
            }
          },
          interaction: {
            mode: 'index',
            intersect: false,
          },
        }
      });
      
      // 支出分类饼图
      const categoryCtx = document.getElementById('category-chart').getContext('2d');
      new Chart(categoryCtx, {
        type: 'doughnut',
        data: {
          labels: ['餐饮美食', '交通出行', '购物消费', '住房缴费', '其他支出'],
          datasets: [{
            data: [35, 20, 18, 15, 12],
            backgroundColor: [
              '#165DFF',
              '#36CFC9',
              '#FAAD14',
              '#40A9FF',
              '#F5222D'
            ],
            borderWidth: 0,
            hoverOffset: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: '70%',
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
      
      // 分类收支对比图
      const incomeExpenseCtx = document.getElementById('income-expense-chart').getContext('2d');
      new Chart(incomeExpenseCtx, {
        type: 'bar',
        data: {
          labels: ['薪资', '餐饮', '交通', '购物', '住房', '其他'],
          datasets: [
            {
              label: '收入',
              data: [12500, 0, 0, 0, 0, 3300],
              backgroundColor: '#52C41A'
            },
            {
              label: '支出',
              data: [0, 2922, 1670, 1503, 3500, 1005],
              backgroundColor: '#F5222D'
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: function(value) {
                  return '¥' + value.toLocaleString();
                }
              }
            }
          }
        }
      });
      
      // 支付方式分析图
      const paymentMethodCtx = document.getElementById('payment-method-chart').getContext('2d');
      new Chart(paymentMethodCtx, {
        type: 'pie',
        data: {
          labels: ['微信支付', '支付宝', '银行卡', '现金'],
          datasets: [{
            data: [45, 30, 20, 5],
            backgroundColor: [
              '#07C160',
              '#1677FF',
              '#FAAD14',
              '#8C8C8C'
            ],
            borderWidth: 0,
            hoverOffset: 4
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'right',
            }
          }
        }
      });
    }
  </script>
</body>
</html>
